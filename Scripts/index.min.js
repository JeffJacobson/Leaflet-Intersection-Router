requirejs.config({baseUrl:"Scripts",paths:{leaflet:"//cdn.leafletjs.com/leaflet-0.6.4/leaflet",markercluster:"Leaflet.markercluster/dist/leaflet.markercluster"},shim:{markercluster:["leaflet"]}});window.Worker?require(["leaflet","alertUtils","markercluster"],function(n,t){"use strict";function p(){function s(t,i){var r;return r=f.GetIcon(t),n.marker(i,{icon:r})}function h(n,i){i.bindPopup(t.createAlertContent(n))}function o(t){return n.geoJson(t,{pointToLayer:s,onEachFeature:h})}var u,r,f;u=new Worker("Scripts/tasks/alerts_task.min.js");f=new t.SignIcons;u.addEventListener("message",function(n){var t=n.data;t&&(r?(r.clearLayers(),r.addLayer(o(t))):(r=o(t).addTo(e),i.addOverlay(r,"Alerts")))},!1);u.postMessage("begin")}function w(){function f(n){return n?n===1?"#0f0":n===2?"yellow":n===3?"red":n===4?"black":"gray":"white"}function e(t,i){return n.circleMarker(i,{radius:5,fillOpacity:1,color:"black",fillColor:f(t.properties.FlowReadingValue)})}function u(t){return n.geoJson(t,{pointToLayer:e})}var t,r;r=new Worker("Scripts/tasks/trafficflow_task.min.js");r.addEventListener("message",function(n){var r=n.data;r&&(t?(t.clearLayers(),t.addLayer(u(r))):(t=u(r),i.addOverlay(t,"Traffic Flow")))},!1);r.postMessage("begin")}function b(){function e(n){var t,r,u,f,i;return t=document.createElement("div"),r=document.createElement("p"),r.textContent=n.properties.Title,t.appendChild(r),n.properties.Description&&(u=document.createElement("p"),u.innerText=n.properties.Description,t.appendChild(u)),n.properties.CameraOwner&&(f=["Courtesy of ",n.properties.CameraOwner].join(""),n.properties.OwnerURL?(i=document.createElement("a"),i.href=n.properties.OwnerURL):i=document.createElement("p"),i.innerText=f,t.appendChild(i)),t}function o(n){var r,i,t;r=n.popup._content;t=n.target.feature.properties;t.ImageURL&&r&&(i=document.createElement("img"),i.src=t.ImageURL,i.width=t.ImageWidth||null,i.height=t.ImageHeight||null,i.alt=t.Description||t.Title||"Camera Image",r.appendChild(i))}function s(t,i){return n.marker(i,{icon:u,title:t.properties.Title}).addOneTimeEventListener("popupopen",o)}function h(n,t){t.bindPopup(e(n))}function f(t){return n.geoJson(t,{pointToLayer:s,onEachFeature:h})}var t,r,u;r=new Worker("Scripts/tasks/cameras_task.min.js");u=n.icon({iconUrl:"images/icons/camera.png",iconSize:[30,22]});r.addEventListener("message",function(r){var u=r.data;u&&(t?(t.clearLayers(),t.addLayer(f(u))):(t=new n.MarkerClusterGroup,t.addLayer(f(u)),i.addOverlay(t,"Cameras")))},!1);r.postMessage("begin")}function y(n){var u,f,i,t,r;if(n&&n.properties){u=document.createElement("table");for(t in n.properties)n.properties.hasOwnProperty(t)&&(r=n.properties[t],r===null||r===""||t==="Longitude"||t==="Latitude"||/\w+(?:MaxAxle)|(?:In(?:(?:Inches)|(?:Pounds)))/i.test(t)&&!r||(f=u.insertRow(),i=document.createElement("th"),i.innerText=t,f.appendChild(i),i=f.insertCell(1),i.innerText=String(n.properties[t])))}return u}function k(){function f(t,i){return n.marker(i,{title:t.properties.LocationDescription})}function e(n,t){t.bindPopup(y(n))}function u(t){return n.geoJson(t,{pointToLayer:f,onEachFeature:e})}var t,r;r=new Worker("Scripts/tasks/cvrestrictions_task.min.js");r.addEventListener("message",function(n){var r=n.data;r&&(t?(t.clearLayers(),t.addLayer(u(r))):(t=u(r),i.addOverlay(t,"CV Restrictions")))},!1);r.postMessage("begin")}function d(){function f(t,i){return n.marker(i)}function e(n,t){t.bindPopup(y(n))}function u(t){return n.geoJson(t,{pointToLayer:f,onEachFeature:e})}var t,r;r=new Worker("Scripts/tasks/traveltimes_task.min.js");r.addEventListener("message",function(n){var r=n.data;r&&(t?(t.clearLayers(),t.addLayer(u(r))):(t=u(r),i.addOverlay(t,"Travel Times")))},!1);r.addEventListener("error",function(n){console.error("task error",n)});r.postMessage("begin")}var e,o,h,s,c,l,a,v,u,f,r,i;u='Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap<\/a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA<\/a>';f=u+'<p>Tiles Courtesy of <a href="http://www.mapquest.com/" target="_blank">MapQuest<\/a> <img src="http://developer.mapquest.com/content/osm/mq_logo.png"><\/p>';r=u+'<p>Tiles Courtesy of <a href="http://www.thunderforest.com/" target="_blank">Thunderforest<\/a><\/p>';o=n.tileLayer("http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:u,maxZoom:18});h=n.tileLayer("http://{s}.mqcdn.com/tiles/1.0.0/map/{z}/{x}/{y}.jpg",{subdomains:["otile1","otile2","otile3","otile4"],attribution:f,maxZoom:18});s=n.tileLayer("http://{s}.mqcdn.com/tiles/1.0.0/sat/{z}/{x}/{y}.jpg",{subdomains:["otile1","otile2","otile3","otile4"],attribution:f,maxZoom:18});s=n.tileLayer("http://{s}.mqcdn.com/tiles/1.0.0/sat/{z}/{x}/{y}.jpg",{subdomains:["otile1","otile2","otile3","otile4"],attribution:f,maxZoom:18});c=n.tileLayer("http://{s}.tile.opencyclemap.org/cycle/{z}/{x}/{y}.png",{attribution:r,maxZoom:18});l=n.tileLayer("http://{s}.tile2.opencyclemap.org/transport/{z}/{x}/{y}.png",{attribution:r,maxZoom:18});a=n.tileLayer("http://{s}.tile3.opencyclemap.org/landscape/{z}/{x}/{y}.png",{attribution:r,maxZoom:18});v=n.tileLayer("http://{s}.tile.thunderforest.com/outdoors/{z}/{x}/{y}.png",{attribution:r,maxZoom:18});e=n.map("map",{center:[47.413220330159461,-120.80566406246835],zoom:7,layers:[o]}).locate({setView:!0,maxZoom:16});i=n.control.layers({OpenStreetMap:o,"MapQuest OSM":h,"MapQest Open Aerial":s,OpenCycleMap:c,"OpenCycleMap Transport":l,"OpenCycleMap Landscape":a,"OpenCycleMap Outdoors":v}).addTo(e);p();w();b();k();d()}):document.body.innerHTML="<p>This page uses <a href='http://caniuse.com/#feat=webworkers'>WebWorkers<\/a>, which your browser does not appear to support. Please upgrade to <a href='http://caniuse.com/#feat=webworkers'>one that does<\/a>.<\/p>";
//# sourceMappingURL=index.min.js.map