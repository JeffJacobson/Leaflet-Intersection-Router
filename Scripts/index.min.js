requirejs.config({paths:{leaflet:"//cdn.leafletjs.com/leaflet-0.6.4/leaflet"}}),require(["leaflet"],function(n){"use strict";function k(t,i){var r;if(!t)throw new TypeError("url is undefined.");return i||(i="images/icons/alert/"),r=i+"shadow.png",n.icon({iconUrl:i+t,shadowUrl:r,iconSize:[25,25],iconAnchor:[13,25],shadowAnchor:[0,5],shadowSize:[25,9]})}function d(){return n.icon({iconUrl:"images/icons/alert/RoadClosure.png",iconSize:[25,25]})}function b(){var r,n,f,t,i;for(r=["AccidentAlert","Construction","Weather"],n=0,f=r.length;n<f;n+=1){i=r[n],this[i]={};for(t in u)u.hasOwnProperty(t)&&(this[i][t]=k([i,u[t],".png"].join("")))}this.RoadClosure=d()}function g(n){var t,i;return n&&(t=n.match(/[A-Z][a-z]+/g),i=t.join(" ")),i}function nt(n){var i,t;return typeof n=="string"?(i=/(?:(https?:\/\/)?www.wsdot.wa.gov)\S+/ig,t=n.replace(i,function(n,t){var i;return i=t?n:"http://"+n,["<a href='",i,"' target='wsdotproject'>link<\/a>"].join("")})):t=n,t}function tt(n){var i,u,e,f,r,t;u=document.createElement("div"),e=document.createElement("table");for(i in n.properties)n.properties.hasOwnProperty(i)&&!/Description/i.test(i)&&n.properties[i]&&(f=document.createElement("tr"),r=document.createElement("th"),r.textContent=g(i),f.appendChild(r),r=document.createElement("td"),r.textContent=n.properties[i],f.appendChild(r),e.appendChild(f));return t=document.createElement("p"),t.classList.add("headline-description"),t.textContent=n.properties.HeadlineDescription,u.appendChild(t),n.properties.ExtendedDescription&&(t=document.createElement("p"),t.classList.add("headline-description"),t.innerHTML=nt(n.properties.ExtendedDescription),u.appendChild(t)),u.appendChild(e),u}function it(){o=new Worker("Scripts/task.js"),o.addEventListener("message",function(t){var r=t.data;c&&i.removeLayer(c),r&&(c=n.geoJson(r,{pointToLayer:function(t,i){var r;return r=w.GetIcon(t),n.marker(i,{icon:r})},onEachFeature:function(n,t){t.bindPopup(tt(n))}}).addTo(i))},!1),o.postMessage("It doesn't really matter what this message is.")}var o,i,s,l,h,a,v,y,p,c,r,u,w,f,e,t;f='Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap<\/a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA<\/a>',e=f+'<p>Tiles Courtesy of <a href="http://www.mapquest.com/" target="_blank">MapQuest<\/a> <img src="http://developer.mapquest.com/content/osm/mq_logo.png"><\/p>',t=f+'<p>Tiles Courtesy of <a href="http://www.thunderforest.com/" target="_blank">Thunderforest<\/a><\/p>',s=n.tileLayer("http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:f,maxZoom:18}),l=n.tileLayer("http://{s}.mqcdn.com/tiles/1.0.0/map/{z}/{x}/{y}.jpg",{subdomains:["otile1","otile2","otile3","otile4"],attribution:e,maxZoom:18}),h=n.tileLayer("http://{s}.mqcdn.com/tiles/1.0.0/sat/{z}/{x}/{y}.jpg",{subdomains:["otile1","otile2","otile3","otile4"],attribution:e,maxZoom:18}),h=n.tileLayer("http://{s}.mqcdn.com/tiles/1.0.0/sat/{z}/{x}/{y}.jpg",{subdomains:["otile1","otile2","otile3","otile4"],attribution:e,maxZoom:18}),a=n.tileLayer("http://{s}.tile.opencyclemap.org/cycle/{z}/{x}/{y}.png",{attribution:t,maxZoom:18}),v=n.tileLayer("http://{s}.tile2.opencyclemap.org/transport/{z}/{x}/{y}.png",{attribution:t,maxZoom:18}),y=n.tileLayer("http://{s}.tile3.opencyclemap.org/landscape/{z}/{x}/{y}.png",{attribution:t,maxZoom:18}),p=n.tileLayer("http://{s}.tile.thunderforest.com/outdoors/{z}/{x}/{y}.png",{attribution:t,maxZoom:18}),r={Construction:["Construction","Ferry","Lane Closure","Maintenance"],AccidentAlert:["Abandoned Vehicle","Alarm","AMBER Alert","Bridge","Brush fire","Cable Barrier","Chain Enforcement","Collision","Collision fatality","Complaint","Dead Animal","Debris","Debris blocking","Disabled vehicle","Hazardous material","Fatality or Possible Fatality","Fire","Flammable Restriction","HCB Motor Open","ITS & IT","Other","Pass Report","Pierce Co. Roads","Pierce Co. Signs/Signals","Rocks","Signals","Signs","Special Event","","Administrative","Boat Traffic","Bridge Lift","Heavy Traffic","In Service","Lakewood","MBT","MIL","ODOT","Out of Service","P-1 Sand / Plowing / Deicing","Pedestrian","Power Lines","Road Report","Sand / Plowing / Deicing","Shift Change","Toll","Utilities"],RoadClosure:["Avalanche Control","Bomb","Bridge Closed","Closure","Emergency closure","Pass Closure","Rollover","Multi-vehicle collision","Chemical Spill","Vehicle fire","Medical emergency","Major incident","Semi Truck Involved","Incident","Two or more lanes closed","Rock Slide","Snow slide","Hazmat","HCB Closed Maint","HCB Closed Marine","HCB Closed Police","HCB Closed Winds","Slide","Slides","Water over Roadway","Rocks - Closure","Trees","Hood Canal Bridge"],Weather:["Traction Advisory","Weather","Weather event"]},u={Unknown:5,Lowest:4,Low:3,Medium:2,High:1,Highest:1},b.prototype.GetIcon=function(n){var t,i,f,u,e;if(!(n&&n.properties))throw new TypeError("The feature either is not defined or has no properties.");for(i in r)if(r.hasOwnProperty(i)){for(f=r[i],u=0,e=f.length;u<e;u+=1)if(n.properties.EventCategory===f[u]){t=i;break}if(t)break}return t||(t="AccidentAlert"),t==="RoadClosure"?this.RoadClosure:this[t][n.properties.Priority]},w=new b,i=n.map("map",{center:[47.413220330159461,-120.80566406246835],zoom:7,layers:[s]}).locate({setView:!0,maxZoom:16}),n.control.layers({OpenStreetMap:s,"MapQuest OSM":l,"MapQest Open Aerial":h,OpenCycleMap:a,"OpenCycleMap Transport":v,"OpenCycleMap Landscape":y,"OpenCycleMap Outdoors":p}).addTo(i),it()});
//# sourceMappingURL=index.min.js.map