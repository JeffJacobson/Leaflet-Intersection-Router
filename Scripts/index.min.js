(function(n){"use strict";function p(t,i){var r;if(!t)throw new TypeError("url is undefined.");return i||(i="images/icons/alert/"),r=i+"shadow.png",n.icon({iconUrl:i+t,shadowUrl:r,iconSize:[25,25],iconAnchor:[13,25],shadowAnchor:[0,5],shadowSize:[25,9]})}function w(){return n.icon({iconUrl:"images/icons/alert/RoadClosure.png",iconSize:[25,25]})}function y(){var u,n,f,t,i;for(u=["AccidentAlert","Construction","Weather"],n=0,f=u.length;n<f;n+=1){i=u[n],this[i]={};for(t in r)r.hasOwnProperty(t)&&(this[i][t]=p([i,r[t],".png"].join("")))}this.RoadClosure=w()}function b(n){var t,i;return n&&(t=n.match(/[A-Z][a-z]+/g),i=t.join(" ")),i}function k(n){var i,t;return typeof n=="string"?(i=/(?:(https?:\/\/)?www.wsdot.wa.gov)\S+/ig,t=n.replace(i,function(n,t){var i;return i=t?n:"http://"+n,["<a href='",i,"' target='wsdotproject'>link<\/a>"].join("")})):t=n,t}function d(n){var i,u,e,f,r,t;u=document.createElement("div"),e=document.createElement("table");for(i in n.properties)n.properties.hasOwnProperty(i)&&!/Description/i.test(i)&&n.properties[i]&&(f=document.createElement("tr"),r=document.createElement("th"),r.textContent=b(i),f.appendChild(r),r=document.createElement("td"),r.textContent=n.properties[i],f.appendChild(r),e.appendChild(f));return t=document.createElement("p"),t.classList.add("headline-description"),t.textContent=n.properties.HeadlineDescription,u.appendChild(t),n.properties.ExtendedDescription&&(t=document.createElement("p"),t.classList.add("headline-description"),t.innerHTML=k(n.properties.ExtendedDescription),u.appendChild(t)),u.appendChild(e),u}function g(){u=new Worker("Scripts/task.js"),u.addEventListener("message",function(i){var r=i.data;o&&t.removeLayer(o),r&&(o=n.geoJson(r,{pointToLayer:function(t,i){var r;return r=v.GetIcon(t),n.marker(i,{icon:r})},onEachFeature:function(n,t){t.bindPopup(d(n))}}).addTo(t))},!1),u.postMessage("It doesn't really matter what this message is.")}var u,t,f,s,e,h,c,l,a,o,i,r,v;f=n.tileLayer("http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap<\/a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA<\/a>',maxZoom:18}),s=n.tileLayer("http://{s}.mqcdn.com/tiles/1.0.0/map/{z}/{x}/{y}.jpg",{subdomains:["otile1","otile2","otile3","otile4"],attribution:'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap<\/a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA<\/a><p>Tiles Courtesy of <a href="http://www.mapquest.com/" target="_blank">MapQuest<\/a> <img src="http://developer.mapquest.com/content/osm/mq_logo.png"><\/p>',maxZoom:18}),e=n.tileLayer("http://{s}.mqcdn.com/tiles/1.0.0/sat/{z}/{x}/{y}.jpg",{subdomains:["otile1","otile2","otile3","otile4"],attribution:'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap<\/a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA<\/a><p>Tiles Courtesy of <a href="http://www.mapquest.com/" target="_blank">MapQuest<\/a> <img src="http://developer.mapquest.com/content/osm/mq_logo.png"><\/p>',maxZoom:18}),e=n.tileLayer("http://{s}.mqcdn.com/tiles/1.0.0/sat/{z}/{x}/{y}.jpg",{subdomains:["otile1","otile2","otile3","otile4"],attribution:'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap<\/a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA<\/a><p>Tiles Courtesy of <a href="http://www.mapquest.com/" target="_blank">MapQuest<\/a> <img src="http://developer.mapquest.com/content/osm/mq_logo.png"><\/p>',maxZoom:18}),h=n.tileLayer("http://{s}.tile.opencyclemap.org/cycle/{z}/{x}/{y}.png",{attribution:'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap<\/a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA<\/a><p>Tiles Courtesy of <a href="http://www.thunderforest.com/" target="_blank">Thunderforest<\/a><\/p>',maxZoom:18}),c=n.tileLayer("http://{s}.tile2.opencyclemap.org/transport/{z}/{x}/{y}.png",{attribution:'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap<\/a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA<\/a><p>Tiles Courtesy of <a href="http://www.thunderforest.com/" target="_blank">Thunderforest<\/a><\/p>',maxZoom:18}),l=n.tileLayer("http://{s}.tile3.opencyclemap.org/landscape/{z}/{x}/{y}.png",{attribution:'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap<\/a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA<\/a><p>Tiles Courtesy of <a href="http://www.thunderforest.com/" target="_blank">Thunderforest<\/a><\/p>',maxZoom:18}),a=n.tileLayer("http://{s}.tile.thunderforest.com/outdoors/{z}/{x}/{y}.png",{attribution:'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap<\/a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA<\/a><p>Tiles Courtesy of <a href="http://www.thunderforest.com/" target="_blank">Thunderforest<\/a><\/p>',maxZoom:18}),i={Construction:["Construction","Ferry","Lane Closure","Maintenance"],AccidentAlert:["Abandoned Vehicle","Alarm","AMBER Alert","Bridge","Brush fire","Cable Barrier","Chain Enforcement","Collision","Collision fatality","Complaint","Dead Animal","Debris","Debris blocking","Disabled vehicle","Hazardous material","Fatality or Possible Fatality","Fire","Flammable Restriction","HCB Motor Open","ITS & IT","Other","Pass Report","Pierce Co. Roads","Pierce Co. Signs/Signals","Rocks","Signals","Signs","Special Event","","Administrative","Boat Traffic","Bridge Lift","Heavy Traffic","In Service","Lakewood","MBT","MIL","ODOT","Out of Service","P-1 Sand / Plowing / Deicing","Pedestrian","Power Lines","Road Report","Sand / Plowing / Deicing","Shift Change","Toll","Utilities"],RoadClosure:["Avalanche Control","Bomb","Bridge Closed","Closure","Emergency closure","Pass Closure","Rollover","Multi-vehicle collision","Chemical Spill","Vehicle fire","Medical emergency","Major incident","Semi Truck Involved","Incident","Two or more lanes closed","Rock Slide","Snow slide","Hazmat","HCB Closed Maint","HCB Closed Marine","HCB Closed Police","HCB Closed Winds","Slide","Slides","Water over Roadway","Rocks - Closure","Trees","Hood Canal Bridge"],Weather:["Traction Advisory","Weather","Weather event"]},r={Unknown:5,Lowest:4,Low:3,Medium:2,High:1,Highest:1},y.prototype.GetIcon=function(n){var t,r,f,u,e;if(!(n&&n.properties))throw new TypeError("The feature either is not defined or has no properties.");for(r in i)if(i.hasOwnProperty(r)){for(f=i[r],u=0,e=f.length;u<e;u+=1)if(n.properties.EventCategory===f[u]){t=r;break}if(t)break}return t||(t="AccidentAlert"),t==="RoadClosure"?this.RoadClosure:this[t][n.properties.Priority]},v=new y,t=n.map("map",{center:[47.413220330159461,-120.80566406246835],zoom:7,layers:[f]}).locate({setView:!0,maxZoom:16}),n.control.layers({OpenStreetMap:f,"MapQuest OSM":s,"MapQest Open Aerial":e,OpenCycleMap:h,"OpenCycleMap Transport":c,"OpenCycleMap Landscape":l,"OpenCycleMap Outdoors":a}).addTo(t),g()})(L);
//# sourceMappingURL=index.min.js.map